# ArbiBot Configuration

# Trading Fees Configuration
fees:
  # Taker fees are used because arbitrage requires immediate execution
  bingx:
    taker: 0.0005  # 0.05%
    maker: 0.0002  # 0.02%
  bybit:
    taker: 0.00055 # 0.055%
    maker: 0.0002  # 0.02%
  bitget:
    taker: 0.0006  # 0.06%
    maker: 0.0002  # 0.02%
  gateio:
    taker: 0.0005  # 0.05%
    maker: 0.00015 # 0.015%
  htx:
    taker: 0.0005  # 0.05%
    maker: 0.0002  # 0.02%
  phemex:
    taker: 0.0006  # 0.06%
    maker: 0.0001  # 0.01%
  mexc:
    taker: 0.0006  # 0.06%
    maker: 0.0002  # 0.02%

# Trading parameters
trading:
  # Z-Score thresholds
  z_score_entry: 2.5        # Enter when |Z-Score| > this value
  z_score_exit: 0.5         # Exit when |Z-Score| < this value
  z_score_stop: 4.0         # Emergency stop if Z-Score exceeds this
  
  # Spread requirements
  min_spread_pct: 0.003     # 0.3% minimum spread to cover fees
  estimated_fee: 0.002      # 0.2% total fees (0.1% per leg)
  
  # Position sizing
  default_position_size: 500   # USD
  max_positions: 5             # Maximum concurrent positions
  
  # Time limits
  max_position_time: 3600      # Seconds (1 hour max per position)

  # Trading Mode
  mode: 'PAPER'  # 'PAPER' or 'LIVE'
  paper_balance: 10000.0  # Starting balance for paper trading (USDT)
  position_size_usdt: 100.0  # Fixed position size per trade
  fee_rate: 0.0006  # 0.06% trading fee
  
# Validation parameters
validation:
  # Historical data for analysis
  lookback_days: 14
  timeframe: '15m'
  candles_limit: 1000
  
  # Statistical thresholds
  adf_pvalue_threshold: 0.05    # P-value for stationarity test
  min_z_score_signals: 5        # Minimum historical signals needed
  
  # Volume filters
  min_24h_volume: 10000         # USD
  min_depth_usdt: 5000          # Order book depth within 2%
  
  # Rolling window for Z-Score
  z_score_window: 20

# Exchange configuration
exchanges:
  bingx:
    enabled: true
    default_type: 'swap'        # Perpetual futures
    testnet: false
    api_key: ''  # For LIVE mode
    api_secret: ''
  
  bybit:
    enabled: true
    default_type: 'linear'      # Linear perpetuals
    testnet: false
    api_key: ''
    api_secret: ''
  
  bitget:
    enabled: true
    default_type: 'swap'        # USDT-M Futures
    testnet: false
    api_key: ''
    api_secret: ''
    password: ''                # Bitget requires passphrase
  
  gateio:
    enabled: true
    default_type: 'swap'        # USDT-settled Futures
    testnet: false
    api_key: ''
    api_secret: ''
  
  htx:
    enabled: true
    default_type: 'swap'        # Linear Swap
    testnet: false
    api_key: ''
    api_secret: ''
  
  phemex:
    enabled: true
    default_type: 'swap'        # Perpetual Contracts
    testnet: false
    api_key: ''
    api_secret: ''
  
  mexc:
    enabled: true
    default_type: 'swap'        # USDT-M Futures
    testnet: false
    api_key: ''
    api_secret: ''

# WebSocket configuration
websocket:
  reconnect_delay: 5            # Seconds
  ping_interval: 30             # Seconds
  max_reconnect_attempts: 10
  
# Monitoring
monitoring:
  update_interval: 500          # Milliseconds for GUI updates
  log_level: 'INFO'             # DEBUG, INFO, WARNING, ERROR
  enable_console: true
  
  # Z-Score Calculation Logic
  timeframe: '5m'               # Timeframe for historical baseline (1m, 5m, 15m, 1h)
  history_length: 100           # Number of candles for baseline (e.g., 100 * 5m = 500m ~ 8.3h)
  
# Scanner (market_scanner.py)
scanner:
  scan_interval: 86400          # Seconds (24 hours)
  exclude_patterns:
    - '1000*'                   # Exclude 1000PEPE, 1000SHIB, etc.
  auto_update_whitelist: true

# Telegram Integration
telegram:
  enabled: true # Set to true and provide API keys to use
  api_id: '24013710'     # Get from https://my.telegram.org
  api_hash: 'a63c4e19b2e253e64397d1f240bb22dd'   # Get from https://my.telegram.org
  session_name: 'arbibot_session'
  
  # List of channel usernames or IDs to monitor (e.g., 'trading_signals' or '@my_source_bot')
  # NOTE: You MUST be a member of the channel or have an active chat with the bot.
  channels: ['@FuturesArbitrageBot'] 
  
  signal_timeout: 1800 # 30 minutes to wait for live confirmation
  adf_lookback_candles: 1000 # Historical candles for ADF check
  adf_timeframe: '15m'
  z_score_window: 20
  
  # Extended filters (Advanced)
  require_direction_match: true   # Check if signal direction (LONG/SHORT) matches our strategy
  min_signal_spread_pct: 0.005    # Minimum spread reported in signal to even consider it
  
  # Manual symbol mapping (Signal -> Exchange)
  symbol_mapping:
    # Example: Some signals use 1000PEPE, others PEPE1000
    # BDX: BDX # No mapping if they are different tokens
    PEPE1000: 1000PEPE
    DGRAM: DGRAMN
    MSTRX: MSTR

# WebSocket configuration
websocket:
  bingx:
    url: 'wss://open-api-swap.bingx.com/swap-market'
    enabled: true
  
  bybit:
    url: 'wss://stream.bybit.com/v5/public/linear'
    enabled: true
  
  bitget:
    url: 'wss://ws.bitget.com/v2/ws/public'
    enabled: true
  
  gateio:
    url: 'wss://fx-ws.gateio.ws/v4/ws/usdt'
    enabled: true
  
  htx:
    url: 'wss://api.hbdm.com/linear-swap-ws'
    enabled: true
  
  phemex:
    url: 'wss://ws.phemex.com'
    enabled: true
  
  mexc:
    url: 'wss://contract.mexc.com/edge'
    enabled: true
  
  reconnect_delay: 5            # Seconds
  max_reconnect_attempts: 10
  ping_interval: 20  # Reduced from 30 to prevent BingX timeouts
  pong_timeout: 60              # Seconds
  message_queue_size: 1000      # Max messages in queue
